//- status.jade
extends ./layout.jade
head
  block title
    title Status Check
  block head
    <!--[if lte IE 8]><script language="javascript" type="text/javascript" src="/js/flot/excanvas.min.js"></script><![endif]-->
    <script type="text/javascript" src="/js/flot/jquery.flot.js"></script>
    <script type="text/javascript" src="http://jumjum123.github.io/JUMFlot/javascripts/JUMFlot.min.js"></script>


body
  block row-content
    if error
      div.well
        div.form-group.row
          div.col-lg-12
            p(style="font-weight:bold;color:red;") Error: #{error}
    else
      div.row
        div.col-lg-12
          h2 Some Graphs
          h2(style="text-align:center") Hashtags
          div.flot-placeholder#flot-placeholder(style="width:75%;height:300px;margin:0px auto")
          script.
            //var d1 = !{dataset};
            var d1 = [[60,25,15], [70,40,6], [30,80,4]];
            var options = {
              series:{bubbles:{active:true,show:true,linewidth:2},editMode:'xy'},
              grid:{hoverable:true,clickable:false,editable:false }
            };
            var p4 = $.plot($("#flot-placeholder"),[d1],options);
            $("#flot-placeholder").bind("datadrop", function(event,pos,item) {
              var txt = "Datapoint(" + item.seriesIndex + "," + item.dataIndex + ") dragged";
              txt+= "\nfrom " + item.datapoint[0].toFixed(2) + " , " + item.datapoint[1].toFixed(2);
              txt+= "\nto " + pos.x1.toFixed(2) + " , " + pos.y1.toFixed(2);
              alert(txt);
            });
      div.row
        div.col-lg-12
          h2 Document Count
          if count
            div.well
              div.form-group.row
                div.col-lg-12
                  p
                    b #{count}
                div.col-lg-12
                  p
                    b #{lasttimestamp}
